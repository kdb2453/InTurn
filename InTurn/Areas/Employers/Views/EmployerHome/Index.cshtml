@using InTurn.HTMLHelpers
@model InTurn_Model.Employer


@{
    ViewBag.Title = "Home";
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Developer = "TS";

}

<center><h2>@Model.Name @ViewBag.Title</h2></center>

<div class="row">
    <center>
        <div class="col-md-4">

            @if (!String.IsNullOrEmpty(Model.ImageLocation))
            {
                <img src="@Href(Model.ImageLocation)" style="width:200px; height:180px; border:solid;" />
            }

        </div>
    </center>
    </div>
<br />
    
<div class="row">
    <div class="col-md-4">
        <dl class="dl-horizontal">

            <dt>
                @Html.DisplayNameFor(model => model.Name)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Name)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.PhoneNum)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.PhoneNum)
            </dd>


            <dt>
                @Html.DisplayNameFor(model => model.Email)
            </dt>

            <dd>
                @Html.Email(Model)
            </dd>
        </dl>
    </div>
    <div class="col-md-4">
        <dl class="dl-horizontal">

            <dt>
                @Html.DisplayNameFor(model => model.Address)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Address)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.City)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.City)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.State)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.State)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.ZipCode)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.ZipCode)
            </dd>


        </dl>
    </div>
</div>


<p>
    @Html.ActionLink("Edit", "Edit", "Employers", new { id = Model.EmployerID }, null)

</p>

<h2>My Job Postings</h2>
<p>
    @Html.ActionLink("Create New", "Create", "JobPostings", null, null)
</p>
<div id="employeeContainer"></div>
<table class="table table-striped">

    <tr>
        <th>Position</th>
        <th>Job Type</th>
        <th>Number of Applications</th>
        <th></th>
    </tr>

    @foreach (var item in Model.JobPostings)
    {
        if (item.EmployerID == Model.EmployerID)
        {
            <tr>

                <td>
                    @Html.DisplayFor(model => item.Position)
                </td>
                <td>
                    @Html.DisplayFor(model => item.JobType)
                </td>
                <td>@Html.DisplayFor(model=>item.AppCount)</td>
                <td>@Html.ActionLink("Details", "Details", "JobPostings", new { id = item.JobPostingID }, null) </td>

            </tr>
        }
    }
</table>



<h2>My Employees</h2>



<div id="employeeContainer"></div>
<table class="table table-striped">

    <tr>
        <th>Name</th>
      
        <th>Position</th>
        <th>Job Type</th>
        <th></th>
    </tr>
    @foreach (var item in Model.Employees)
    {
        if (item.EmployerID == Model.EmployerID)
        {
            <tr>

                <td>
                    @Html.DisplayFor(model => item.Student.FullName)
                </td>

                <td>
                    @Html.DisplayFor(model => item.JobPosting.Position)
                </td>
                <td>@Html.DisplayFor(model => item.JobPosting.JobType)</td>
                <td>@Html.ActionLink("Details", "Details", "Employees", new { id = item.EmployeeID }, null) </td>

            </tr>
        }

    }
</table>








<div class="row">

    <div class="col-md-4">
        <h2>Applicants</h2>
        <p>View applicants for your job postings.</p>
        <p>@Html.ActionLink(HttpUtility.HtmlDecode("&laquo; Go &raquo;"), "Index", "Applications", new { area = "Employers" }, new { @class = "btn btn-default" })</p>
    </div>
</div>
<div class="row">
    <div class="col-md-4">
        <h2>Employees</h2>
        <p>View and manage who you've hired'</p>
        <p>@Html.ActionLink(HttpUtility.HtmlDecode("&laquo; Go &raquo;"), "Index", "Employees", new { area = "Employers" }, new { @class = "btn btn-default" })</p>
    </div>
</div>